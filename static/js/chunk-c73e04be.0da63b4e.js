(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c73e04be"],{"04f5":function(t,s,e){},ade0:function(t,s,e){"use strict";e("04f5")},fc1a:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"container"},[s("div",{staticClass:"left"},[s("div",{staticClass:"logo"}),s("div",{staticClass:"title"},[s("section",{staticClass:"line-1"},[t._v(" "+t._s(t.detailsInfo.name?t.detailsInfo.name:"-")+" ")]),s("section",{staticClass:"line-2"},[t._v("Weekly Report")])]),s("div",{staticClass:"show-i"},[s("section",{staticClass:"time"},[t._v(t._s(t.showTime))]),s("section",{staticClass:"show-m"},[t.detailsInfo.imageUrl?t._e():s("div",{staticClass:"img"}),t.detailsInfo.imageUrl?s("img",{staticClass:"img",attrs:{src:t.detailsInfo.imageUrl,alt:" "}}):t._e()])])]),s("div",{staticClass:"right"},[s("div",{staticClass:"right-main"},[s("div",{staticClass:"main-item"},[t._m(0),s("div",{staticClass:"main-chart charts1"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.tradingVolumeList.length,expression:"tradingVolumeList.length == 0"}],staticClass:"empty"},[t._v(" no data ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.tradingVolumeList.length,expression:"tradingVolumeList.length != 0"}],ref:"charts1",attrs:{id:"charts1"}})])]),s("div",{staticClass:"main-item"},[t._m(1),s("div",{staticClass:"main-chart charts2"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.transactionList.length,expression:"transactionList.length == 0"}],staticClass:"empty"},[t._v(" no data ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.transactionList.length,expression:"transactionList.length != 0"}],ref:"charts2",attrs:{id:"charts2"}})])]),s("div",{staticClass:"main-item"},[t._m(2),s("div",{staticClass:"main-chart charts3"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.holdersChangeList.length,expression:"holdersChangeList.length == 0"}],staticClass:"empty"},[t._v(" no data ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.holdersChangeList.length,expression:"holdersChangeList.length != 0"}],ref:"charts3",attrs:{id:"charts3"}})])]),s("div",{staticClass:"main-item"},[t._m(3),s("div",{staticClass:"main-chart charts4"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.smartmoneyTransactionList.length,expression:"smartmoneyTransactionList.length == 0"}],staticClass:"empty"},[t._v(" no data ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.smartmoneyTransactionList.length,expression:"smartmoneyTransactionList.length != 0"}],ref:"charts4",attrs:{id:"charts4"}})])])]),s("div",{staticClass:"right-deal"},[t._m(4),s("div",{staticClass:"right-deal-container"},[0===t.bigdealData.itemList.length?s("div",{staticClass:"empty"},[t._v(" no data ")]):t._l(t.bigdealData.itemList,(function(e,i){return s("div",{key:i,staticClass:"deal-item"},[e.image?t._e():s("div",{staticClass:"item-img"}),e.image?s("img",{staticClass:"item-img",attrs:{src:e.image,alt:"image"}}):t._e(),s("div",{staticClass:"item-text"},[s("p",[t._v(t._s(e.tokenId?"#"+e.tokenId:"-"))]),s("p",[t._v(t._s(e.price?Number(e.price.toFixed(2)):0)+" ETH")])])])}))],2)])])])},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"right-title"},[s("i",[t._v("01")]),s("span",[t._v("Trading Volume")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"right-title"},[s("i",[t._v("02")]),s("span",[t._v("Transactions")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"right-title"},[s("i",[t._v("03")]),s("span",{staticStyle:{left:"-31px","padding-left":"40px","padding-right":"40px"}},[t._v("#Holders Change")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"right-title"},[s("i",[t._v("04")]),s("span",{staticStyle:{left:"-39px","padding-left":"50px","padding-right":"70px","background-size":"80% 100%"}},[t._v("Smart Money Transaction")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"right-title deal-title"},[s("i",[t._v("05")]),s("span",[t._v("Big Deal")])])}],r=e("7736"),n={data(){return{detailsInfo:{},contractAddress:"",showTime:"",tradingVolumeList:[],transactionList:[],holdersChangeList:[],smartmoneyTransactionList:[],bigdealData:{itemList:[]},charts1:null,charts2:null,charts3:null,charts4:null}},computed:{...Object(r["b"])("common",["chainId"])},created(){if(this.$route&&this.$route.query){var t;let s=(null===(t=this.$route.query)||void 0===t?void 0:t.address)||"";s&&(this.contractAddress=s,this.init())}},mounted(){window.addEventListener("resize",this.resize,!0)},methods:{resize(){setTimeout(()=>{var t,s,e,i;null===this||void 0===this||null===(t=this.charts1)||void 0===t||t.resize(),null===this||void 0===this||null===(s=this.charts2)||void 0===s||s.resize(),null===this||void 0===this||null===(e=this.charts3)||void 0===e||e.resize(),null===this||void 0===this||null===(i=this.charts4)||void 0===i||i.resize()},500)},formatTime(t,s="yyyy-MM-dd"){if(!t)return;"string"===typeof t&&(t=t.replace(/-/g,"/"));const e=new Date(t),i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};return/(y+)/.test(s)&&(s=s.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),Object.keys(i).forEach(t=>{new RegExp(`(${t})`).test(s)&&(s=s.replace(RegExp.$1,1===RegExp.$1.length?i[t]:("00"+i[t]).substr((""+i[t]).length)))}),s},toEMonth1(t){switch(t){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}},init(){this.getInfo(),this.getTradingVolume(),this.getTransaction(),this.getHolderchange(),this.getSmartMoneytransaction(),this.getBigDeal()},async getInfo(){const{data:t,message:s}=await this.$api.weekly.getInfo({chainId:this.chainId||1,contractAddress:this.contractAddress});if("ok"===s){this.detailsInfo=(null===t||void 0===t?void 0:t.collectionInfo)||{};let s=t.startTime,e=t.endTime;this.startTime=`${new Date(s).getDate()} ${this.toEMonth1(new Date(s).getMonth()+1)}`,this.endTime=`${new Date(e).getDate()} ${this.toEMonth1(new Date(e).getMonth()+1)}`,this.showTime=`${this.startTime} - ${this.endTime}`}},async getTradingVolume(){const{data:t,message:s}=await this.$api.weekly.getTradingVolume({chainId:this.chainId||1,contractAddress:this.contractAddress});if("ok"===s){let s=t.itemList.map(t=>{let s={volume:Number(t.volume.toFixed(2)),time:this.formatTime(t.time,"MM.dd")};return s});this.tradingVolumeList=s||[],this.$nextTick(()=>{this.setOptions_1()})}},async getTransaction(){const{data:t,message:s}=await this.$api.weekly.getTransaction({chainId:this.chainId||1,contractAddress:this.contractAddress});if("ok"===s){let s=t.itemList.map(t=>{let s={trans:Number(t.trans.toFixed(2)),time:this.formatTime(t.time,"MM.dd")};return s});this.transactionList=s||[],this.$nextTick(()=>{this.setOptions_2()})}},async getHolderchange(){const{data:t,message:s}=await this.$api.weekly.getHolderchange({chainId:this.chainId||1,contractAddress:this.contractAddress});if("ok"===s){let s=t.itemList.map(t=>{let s={changes:Number(t.changes.toFixed(2)),time:this.formatTime(t.time,"MM.dd")};return s});this.holdersChangeList=s||[],this.$nextTick(()=>{this.setOptions_3()})}},async getSmartMoneytransaction(){const{data:t,message:s}=await this.$api.weekly.getSmartMoneytransaction({chainId:this.chainId||1,contractAddress:this.contractAddress});if("ok"===s){let s=t.itemList.map(t=>{let s={trans:Number(t.trans.toFixed(2)),time:this.formatTime(t.time,"MM.dd")};return s});this.smartmoneyTransactionList=s||[],this.$nextTick(()=>{this.setOptions_4()})}},setOptions_1(){let t=this.tradingVolumeList.map(t=>t.volume),s=this.tradingVolumeList.map(t=>t.time),e={backgroundColor:"transparent",grid:{x:0,right:0,left:0,bottom:0,top:"20%",containLabel:!0},xAxis:{data:s,splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"#fff"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},series:{type:"bar",data:t,barGap:0,emphasis:{focus:"series"},barMaxWidth:10,label:{show:!0,distance:5,position:"top",color:"rgba(255, 255, 255, 1)"},itemStyle:{borderRadius:[5,5,0,0],color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#0D53FC"},{offset:1,color:"#1B1D2E"}])}}};this.charts1=this.$echarts.init(this.$refs.charts1),this.charts1.setOption(e)},setOptions_2(){let t=this.transactionList.map(t=>t.trans),s=this.transactionList.map(t=>t.time),e={backgroundColor:"transparent",grid:{x:0,right:0,left:0,bottom:0,top:"20%",containLabel:!0},xAxis:{data:s,splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"#fff"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},series:{type:"bar",data:t,barGap:0,emphasis:{focus:"series"},barMaxWidth:10,label:{show:!0,distance:5,position:"top",color:"rgba(255, 255, 255, 1)"},itemStyle:{borderRadius:[5,5,0,0],color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#1ED6BC"},{offset:1,color:"#1B1D2E"}])}}};this.charts2=this.$echarts.init(this.$refs.charts2),this.charts2.setOption(e)},setOptions_3(){let t=this.holdersChangeList.map(t=>{let s={value:Math.abs(t.changes),label:t.changes};return s}),s=this.holdersChangeList.map(t=>t.time),e={backgroundColor:"transparent",grid:{x:0,right:0,left:0,bottom:0,top:"20%",containLabel:!0},xAxis:{data:s,splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"#fff"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},series:{type:"bar",data:t,barGap:0,emphasis:{focus:"series"},barMaxWidth:10,label:{show:!0,distance:5,position:"top",color:"rgba(255, 255, 255, 1)",formatter:t=>""+t.data.label},itemStyle:{borderRadius:[5,5,0,0],color:t=>{let s=t.data.label||0,e=null;return e=s>0?new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#0D53FC"},{offset:1,color:"#1B1D2E"}]):new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#d9453f"},{offset:1,color:"#1B1D2E"}]),e}}}};this.charts3=this.$echarts.init(document.querySelector("#charts3")),this.charts3.setOption(e)},setOptions_4(){let t=this.smartmoneyTransactionList.map(t=>t.trans),s=this.smartmoneyTransactionList.map(t=>t.time),e={backgroundColor:"transparent",grid:{x:0,right:0,left:0,bottom:0,top:"20%",containLabel:!0},xAxis:{data:s,splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"#fff"}}},yAxis:{type:"value",scale:!0,splitLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},series:{type:"bar",data:t,barGap:0,emphasis:{focus:"series"},barMaxWidth:10,label:{show:!0,distance:5,position:"top",color:"rgba(255, 255, 255, 1)"},itemStyle:{borderRadius:[5,5,0,0],color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#1ED6BC"},{offset:1,color:"#1B1D2E"}])}}};this.charts4=this.$echarts.init(document.querySelector("#charts4")),this.charts4.setOption(e)},async getBigDeal(){const{data:t,message:s}=await this.$api.weekly.getBigDeal({chainId:this.chainId||1,contractAddress:this.contractAddress});var e;"ok"===s&&(null===t||void 0===t||null===(e=t.itemList)||void 0===e||e.forEach((t,s)=>{if(!t.image){let e={nftAddress:this.contractAddress,price:t.price,tokenId:t.tokenId};this.getNftItem(e,s)}}),this.bigdealData=t)},async getNftItem(t,s){let e={nftAddress:t.nftAddress,tokenId:t.tokenId,chain:"eth"};const{metadata:i}=await this.$api.weekly.getNFTItem(e);if(i){let e=JSON.parse(i||"{}");t.image=t.image?t.image:null===e||void 0===e?void 0:e.image,t.price=t.price,t.tokenId=t.tokenId,t=Object.assign({},t,e),this.bigdealData&&this.bigdealData.itemList&&this.$set(this.bigdealData.itemList,s,t)}}}},o=n,c=(e("ade0"),e("e607")),h=Object(c["a"])(o,i,a,!1,null,"3f93963f",null);s["default"]=h.exports}}]);