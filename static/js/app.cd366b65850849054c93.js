webpackJsonp([3],{"+cgv":function(t,e){},0:function(t,e){},1:function(t,e){},2:function(t,e){},3:function(t,e){},"3f40":function(t,e){},4:function(t,e){},"4qOc":function(t,e){},5:function(t,e){},"8Y90":function(t,e){},GlBA:function(t,e){},LEmH:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},o,!1,function(t){n("ZDsj")},null,null).exports,a=n("/ocq"),r=n("+qPk"),l=n("mtWM"),u={components:{VueEditor:r.a},watch:{htmlForEditor:function(t){localStorage.setItem("v",t)}},data:function(){return{htmlForEditor:localStorage.getItem("v")?localStorage.getItem("v"):"",show:!1}},methods:{handleImageAdded:function(t,e,n,i){var o=new FormData;o.append("image",t),Object(l.a)({url:"https://fakeapi.yoursite.com/images",method:"POST",data:o}).then(function(t){var o=t.data.url;e.insertEmbed(n,"image",o),i()}).catch(function(t){console.log(t)})}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"center"},[n("button",{on:{click:function(e){t.show=!0}}},[t._v("显示编辑器")]),t._v(" "),n("button",{on:{click:function(e){t.show=!1}}},[t._v("隐藏编辑器")])]),t._v(" "),t.show?n("vue-editor",{attrs:{id:"editor",useCustomImageHandler:""},on:{"image-added":t.handleImageAdded},model:{value:t.htmlForEditor,callback:function(e){t.htmlForEditor=e},expression:"htmlForEditor"}}):t._e(),t._v(" "),n("div",{staticClass:"ql-editor",domProps:{innerHTML:t._s(t.htmlForEditor)}})],1)},staticRenderFns:[]};var d=n("VU/8")(u,c,!1,function(t){n("LEmH")},null,null).exports,f=n("iwQb");if("server"!==Object({NODE_ENV:"production"}).VUE_ENV){var h=n("ytml").default,m=n("DupL");if("undefined"!=typeof window&&"Worker"in window&&-1===navigator.appVersion.indexOf("MSIE 10")){var v=n("Mpk9");m.GlobalWorkerOptions.workerPort=new v}var p=Object(f.a)(h(m))}else p=Object(f.a)({});var g=p;var w=n("VU/8")(g,null,!1,function(t){n("xxT8")},null,null).exports,y={data:function(){return{url:"",numPages:1,imgSrc:""}},components:{pdf:w},mounted:function(){var t=this;document.documentElement.scrollTop=0,setTimeout(function(){if(t.$store.state.evPdf){var e=t.$store.state.evPdf,n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t.getNumPages(e.target.result)}}})},methods:{getNumPages:function(t){var e=this,n=w.createLoadingTask(t);n.promise.then(function(t){e.url=n,console.log("loadingTask:",n),e.numPages=t.numPages,e.imgSrc=e.$store.state.img,e.$nextTick(function(){document.querySelector(".img").style=e.$store.state.style})}).catch(function(){console.error("pdf加载失败")})}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"main"},[n("div",{ref:"pdf",staticClass:"mian"},[t._l(t.numPages,function(e){return n("pdf",{key:e,attrs:{src:t.url,page:e}})}),t._v(" "),n("div",{staticClass:"demo"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.imgSrc,expression:"imgSrc"}],ref:"img",staticClass:"img",attrs:{src:t.imgSrc}})])],2)])])},staticRenderFns:[]};var $=n("VU/8")(y,E,!1,function(t){n("GlBA")},"data-v-0af61fea",null).exports,P=n("m/C5"),_=n.n(P),x={name:"PdfDownload",methods:{downloadPdf:function(){var t=document.getElementById("pdf-content");_()().from(t).set({margin:[10,20,10,20],filename:"download.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:5},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).save()}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("button",{on:{click:this.downloadPdf}},[this._v("click")]),this._v(" "),e("div",{attrs:{id:"pdf-content"}},[this._v("\n        2222222222222222222222\n    ")])])},staticRenderFns:[]},k=n("VU/8")(x,b,!1,null,null,null).exports;i.default.use(a.a);var C=new a.a({routes:[{path:"/",name:"Home",component:d},{path:"/preview",name:"Preview",component:$},{path:"/test",name:"Test",component:k}]}),z=n("NYxO");i.default.use(z.a);var S=new z.a.Store({state:{pdf:null,evPdf:null,img:null,evImg:null,matrix:null,style:""},mutations:{pdfChange:function(t,e){t.pdf=e},evPdfChange:function(t,e){t.evPdf=e},imgChange:function(t,e){t.img=e},evImgChange:function(t,e){t.evImg=e},matrixChange:function(t,e){t.matrix=e},styleChange:function(t,e){t.style=e},clear:function(t){t.pdf=null,t.evPdf=null,t.img=null,t.evImg=null,t.matrix=null,t.style=""}}}),F=n("zL8q"),O=n.n(F),T=(n("tvR6"),n("G0J2")),D=n.n(T);n("3f40"),n("4qOc"),n("+cgv");i.default.use(D.a),i.default.use(O.a),new i.default({el:"#app",router:C,store:S,components:{App:s},template:"<App/>"})},POKh:function(t,e,n){"use strict";var i={props:{initial:{type:Boolean,default:!1}},data:function(){return{size:{width:-1,height:-1}}},methods:{reset:function(){var t=this.$el.firstChild,e=this.$el.lastChild;t.scrollLeft=1e5,t.scrollTop=1e5,e.scrollLeft=1e5,e.scrollTop=1e5},update:function(){this.size.width=this.$el.offsetWidth,this.size.height=this.$el.offsetHeight}},watch:{size:{deep:!0,handler:function(t){this.reset(),this.$emit("resize",{width:this.size.width,height:this.size.height})}}},render:function(t){var e="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",n="position: absolute; left: 0; top: 0;";return t("div",{style:e+"animation-name: resizeSensorVisibility;",on:{"~animationstart":this.update}},[t("div",{style:e,on:{scroll:this.update}},[t("div",{style:n+"width: 100000px; height: 100000px;"})]),t("div",{style:e,on:{scroll:this.update}},[t("div",{style:n+"width: 200%; height: 200%;"})])])},beforeDestroy:function(){this.$emit("resize",{width:0,height:0}),this.$emit("resizeSensorBeforeDestroy")},mounted:function(){if(!0===this.initial&&this.$nextTick(this.update),this.$el.offsetParent!==this.$el.parentNode&&(this.$el.parentNode.style.position="relative"),"attachEvent"in this.$el&&!("AnimationEvent"in window)){var t=function(){this.update(),e()}.bind(this),e=function(){this.$el.detachEvent("onresize",t),this.$off("resizeSensorBeforeDestroy",e)}.bind(this);this.$el.attachEvent("onresize",t),this.$on("resizeSensorBeforeDestroy",e),this.reset()}}};var o=n("VU/8")(i,null,!1,function(t){n("8Y90")},null,null);e.a=o.exports},ZDsj:function(t,e){},tvR6:function(t,e){},xxT8:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cd366b65850849054c93.js.map