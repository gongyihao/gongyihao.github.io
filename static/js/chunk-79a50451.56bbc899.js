(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79a50451"],{"0f96":function(t,e,i){},1133:function(t,e,i){"use strict";i("7b7c")},1435:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nft-profiler-details"},[e("div",{staticClass:"header"},[e("div",{staticClass:"header-main"},[e("div",{staticClass:"nft-profiler-details-title"},[e("div",{staticClass:"title-left"},[e("div",{staticClass:"title-left-icon"},[e("img",{directives:[{name:"img",rawName:"v-img",value:t.detailsInfo.imageUrl,expression:"detailsInfo.imageUrl"}],attrs:{src:t.defaultImg}})]),e("div",{staticClass:"name"},[e("div",[t._v(t._s(t.$t("nft-profiler.detail.cname")))]),e("div",{staticClass:"name-btn"},[t.detailsInfo.name&&t.detailsInfo.name.length>30?e("el-tooltip",{attrs:{effect:"light",content:t.detailsInfo.name,placement:t.isM?"top":"right"}},[e("span",[t._v(t._s(t.detailsInfo.name?t.trimName(t.detailsInfo.name):t.trimAddress(t.detailsInfo.contractAddress)))])]):e("span",[t._v(t._s(t.detailsInfo.name?t.detailsInfo.name:t.trimAddress(t.detailsInfo.contractAddress)))]),t.watchLoading?e("div",{staticClass:"watchLoading header-icon"},[e("i",{staticClass:"el-icon-refresh-right refreshing"})]):t._e(),t.watchLoading?t._e():e("el-tooltip",{attrs:{effect:"light",content:t.isWatch?t.$t("nft-skyline-mint.latestMintsTable.removeWatchlist"):t.$t("nft-skyline-mint.latestMintsTable.addWatchlist"),placement:t.isM?"top":"bottom"}},[e("i",{class:[t.isWatch?"el-icon-star-on":"el-icon-star-off","header-icon"],on:{click:function(e){return t.saveOrdeleteWatchlist()}}})]),e("i",{staticClass:"el-icon-copy-document header-icon",on:{click:function(e){return t.copyAddress(t.token)}}}),e("el-tooltip",{attrs:{effect:"light",content:t.$t("common.createASmartAlert"),placement:t.isM?"bottom":"top"}},[e("i",{staticClass:"icon-create-smartalert header-icon",on:{click:function(e){t.createNewAlert(1,{projects:[{name:t.detailsInfo.name?t.detailsInfo.name:t.trimAddress(t.detailsInfo.contractAddress),address:t.detailsInfo.contractAddress}]})}}})])],1)])]),e("div",{staticClass:"title-right"},[t.isM?t._e():e("div",{staticClass:"item opensea-etherscan",on:{click:function(e){return t.gotoX2Y2(t.detailsInfo.contractAddress)}}},[e("div",{staticClass:"x2y2-icon"}),t.isM?t._e():e("span",[t._v(t._s(t.$t("nft-profiler.detail.x2y2")))])]),t.isM?t._e():e("div",{staticClass:"item opensea-etherscan",on:{click:function(e){return t.gotoUrl(t.detailsInfo.openSeaLink)}}},[e("div",{staticClass:"title-right-icon opensea-icon"}),e("span",[t._v(t._s(t.$t("nft-profiler.detail.opensea")))])]),t.isM?t._e():e("div",{staticClass:"item opensea-etherscan",on:{click:function(e){return t.gotoUrl(t.detailsInfo.ethLink)}}},[e("div",{staticClass:"title-right-icon etherscan-icon"}),e("span",[t._v(t._s(t.$t("nft-profiler.detail.etherscan")))])]),t.isM?e("div",[e("i",{staticClass:"el-icon-more header-more",class:{active:t.mLinkShow},on:{click:()=>{t.mLinkShow=!0}}})]):t._e()])]),t.detailsInfo.description?e("section",{staticClass:"nft-profiler-description info"},[t.descriptionAll?[e("div",{staticClass:"description-all"},[e("div",{staticClass:"description-main",domProps:{innerHTML:t._s(t.detailsInfo.description)}}),e("span",{staticClass:"less",on:{click:function(e){t.descriptionAll=!t.descriptionAll}}},[t._v(" See less "),e("i",{staticClass:"arrow up"})])])]:e("section",{staticClass:"description-pre"},[e("div",{staticClass:"pre-text description-main",domProps:{innerHTML:t._s(t.detailsInfo.description)}}),e("p",{staticClass:"more",on:{click:function(e){t.descriptionAll=!t.descriptionAll}}},[t._v(" See more "),e("i",{staticClass:"arrow"})])])],2):t._e(),e("div",{staticClass:"nft-profiler-details-content"},[e("div",{staticClass:"info"},[e("div",{staticClass:"infoItem"},[e("span",[t._v(t._s(t.$t("nft-profiler.detail.deployed")))]),e("div",[t._v(" "+t._s(t.detailsInfo.deployTime?t.formatMsgHourTime(t.detailsInfo.deployTime):"--")+" ")])]),e("div",{staticClass:"infoItem"},[e("span",[t._v(t._s(t.$t("nft-profiler.detail.circulation")))]),e("div",[t._v(" "+t._s(t.detailsInfo.circulation?t.formatAmount(t.detailsInfo.circulation):"--")+" ")])]),e("div",{staticClass:"infoItem"},[e("span",[t._v(t._s(t.$t("nft-profiler.detail.type")))]),e("div",[t._v(t._s(t.type))])])]),e("div",{staticClass:"tabs"},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.nftProfilerTabs,callback:function(e){t.nftProfilerTabs=e},expression:"nftProfilerTabs"}},[e("el-tab-pane",{attrs:{label:t.$t("nft-profiler.detail.overview"),name:"nft-profiler-details-overview"}}),e("el-tab-pane",{attrs:{label:t.$t("nft-profiler.detail.holder"),name:"nft-profiler-details-holder"}}),e("el-tab-pane",{attrs:{label:t.$t("nft-profiler.detail.trade"),name:"nft-profiler-details-trade"}}),e("el-tab-pane",{attrs:{label:t.$t("nft-profiler.detail.rarity"),name:"nft-profiler-details-rarity"}}),e("el-tab-pane",{attrs:{label:t.$t("nft-profiler.detail.relatedCollections"),name:"nft-profiler-details-related-collections"}})],1)],1)])]),t.isM?e("div",{staticClass:"line"}):t._e()]),e("div",{staticClass:"body"},[e("router-view")],1),t.mLinkShow?e("div",{staticClass:"link-more"},[e("div",{staticClass:"link-bg",on:{click:()=>{t.mLinkShow=!1}}}),e("div",{staticClass:"link-content"},[e("div",{staticClass:"link-item",staticStyle:{color:"#6e7a8e","font-size":"12px"}},[t._v(" LINKS ")]),e("div",{staticClass:"link-item opensea-etherscan",on:{click:function(e){return t.gotoX2Y2(t.detailsInfo.contractAddress)}}},[e("div",{staticClass:"title-right-icon x2y2-icon"}),e("span",[t._v(t._s(t.$t("nft-profiler.detail.x2y2")))])]),e("div",{staticClass:"link-item opensea-etherscan",on:{click:function(e){return t.gotoUrl(t.detailsInfo.openSeaLink)}}},[e("div",{staticClass:"title-right-icon opensea-icon"}),e("span",[t._v(t._s(t.$t("nft-profiler.detail.opensea")))])]),e("div",{staticClass:"link-item opensea-etherscan",on:{click:function(e){return t.gotoUrl(t.detailsInfo.ethLink)}}},[e("div",{staticClass:"title-right-icon etherscan-icon"}),e("span",[t._v(t._s(t.$t("nft-profiler.detail.etherscan")))])])])]):t._e()])},a=[],n=(i("b141"),i("b0e4")),o=i("7736"),r={name:"nft-profiler-details",props:{},data(){return{nftProfilerTabs:this.$route.name||"nft-profiler-details-overview",detailsInfo:{},categories:[],watchLoading:!1,mLinkShow:!1,descriptionAll:!1}},computed:{...Object(o["b"])("common",["chainId"]),type(){return this.categories&&this.categories.length?this.categories.join("/"):"--"},showLogin:{get(){return this.$store.getters["watchlist/showLogin"]},set(t){this.$store.commit("watchlist/SET_showLogin",t)}},showMaxLimit:{get(){return this.$store.getters["watchlist/showMaxLimit"]},set(t){this.$store.commit("watchlist/SET_showMaxLimit",t)}},nftWatchlist:{get(){return this.$store.getters["watchlist/nftWatchlist"]},set(t){this.$store.commit("watchlist/SET_nftWatchlist",t)}},isWatch:{get(){const t=this.nftWatchlist.findIndex(t=>t==this.token);return-1!=t},set(t){return t}}},created(){},watch:{chainId:{deep:!0,handler(t,e){t!=e&&this.getDetailsData()}},token:{deep:!0,handler(){this.token&&this.getDetailsData()}},"$route.params.token":{deep:!0,immediate:!0,handler(){/(^(0x)[0-9a-fA-F]{40}$)/.test(this.$route.params.token)?this.$store.commit("nftProfiler/SET_token",this.$route.params.token):this.getNftAddress(this.$route.params.token)}},$route:{deep:!0,immediate:!0,handler(t){this.getList()}}},mounted(){this.getList(),this.getDetailsData()},methods:{trimAddress:n["l"],formatMsgTime:n["g"],formatMsgHourTime:n["f"],formatAmount:n["d"],getList(){this.nftProfilerTabs=this.$route.name},checkDescriptionHeight(){var t,e,i,s,a,n,o,r;t=null===(e=this.$refs)||void 0===e||null===(i=e.descriptionPretext)||void 0===i||null===(s=i.getBoundingClientRect())||void 0===s?void 0:s.height,a=null===(n=this.$refs)||void 0===n||null===(o=n.descriptionAlltext)||void 0===o||null===(r=o.getBoundingClientRect())||void 0===r?void 0:r.height},handleClick(t,e){this.$router.push({name:t.paneName})},copyAddress(t){if(!t)return;const e=document.createElement("input");e.setAttribute("readonly","readonly"),e.setAttribute("value",t),document.body.appendChild(e),e.select(),e.setSelectionRange(0,9999),document.execCommand("copy")&&(document.execCommand("copy"),this.$messages(this.$t("nft-profiler.detail.copyed"))),document.body.removeChild(e)},gotoUrl(t){window.open(t)},gotoX2Y2(t){let e=t;const i=`https://x2y2.io/collection/${e}/items`;window.open(i)},async getDetailsData(){if(!this.token)return;this.loading=!0;const{success:t,data:e}=await this.$api.dgg.getNftProfilerHead({chainId:this.chainId||1,address:this.token});if(this.loading=!1,t&&e){e.description||(e.description="");let t=e.description;e.description=marked.parse(e.description);var i=/a href=/g;e.description=e.description.replace(i,"a target='_blank' href="),this.detailsInfo=e,this.categories=e.categories,this.$nextTick(()=>{setTimeout(()=>{this.checkDescriptionHeight()},500)}),this.$nextTick(()=>{let e=document.querySelector(".ogImg");e&&(e.content=this.detailsInfo.imageUrl||"https://static.whatscoin.com.cn/image/logo.png"),this.detailsInfo.name=this.detailsInfo.name||this.detailsInfo.contractAddress;let i=document.querySelector(".whkeywords"),s=document.querySelector(".whdescription"),a=document.querySelector(".ogTitle"),n=document.querySelector(".ogDescription"),o="",r=[" NFT,"," market cap,"," rarity,"," floor price,"," stats,"];r.forEach(t=>{o+=this.detailsInfo.name+t}),i.content=o;let c=`WhatsCoin analyses the ${this.detailsInfo.name} collection's market cap, floor price, rarity info, holders, and recent transactions charts on the blockchain.`;n.content=c+t,a.content=this.detailsInfo.name+" - NFT Profiler | WhatsCoin",s.content=c+t,document.title=this.detailsInfo.name+" - NFT Profiler | WhatsCoin"}),this.$store.commit("nftProfiler/SET_nftProfilerInfo",e)}},trimName(t){return t&&t.length>30?t.slice(0,30)+"...":t},async saveOrdeleteWatchlist(){if(this.$user.isLogin)if(this.watchLoading=!0,this.isWatch){const{success:t,data:e}=await this.$api.userInfo.removeWatchlist({chainId:this.chainId||1,contractType:"nft",user:this.$user.userInfo.account,contractAddress:this.token});t&&e.success?(this.isWatch=!1,this.$store.commit("watchlist/SET_nftWatchlist",e.collectList),this.watchLoading=!1):this.watchLoading=!1}else{if(this.nftWatchlist.length>=50)return this.$store.commit("watchlist/SET_showMaxLimit",1),void(this.watchLoading=!1);const{success:t,data:e}=await this.$api.userInfo.addWatchlist({chainId:this.chainId||1,contractType:"nft",user:this.$user.userInfo.account,contractAddress:this.token});t&&e.success?(this.isWatch=!0,this.$store.commit("watchlist/SET_nftWatchlist",e.collectList),this.watchLoading=!1):this.watchLoading=!1}else this.$store.commit("watchlist/SET_showLogin",!0)}},beforeDestroy(){sessionStorage.clear("user"),this.$store.commit("nftProfiler/SET_token","")}},c=r,l=(i("1133"),i("a539"),i("e607")),d=Object(l["a"])(c,s,a,!1,null,"872bbfbe",null);e["default"]=d.exports},"7b7c":function(t,e,i){},a539:function(t,e,i){"use strict";i("0f96")}}]);