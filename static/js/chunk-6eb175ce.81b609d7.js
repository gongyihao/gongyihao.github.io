(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6eb175ce"],{"20ce":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"account-container"},[s("div",{staticClass:"account-title"},[t._v(t._s(t.$t("login.accountSettings")))]),s("section",{staticStyle:{"margin-top":"0"}},[s("p",[s("i",[t._v(t._s(t.$t("login.accountType")))]),s("span",{staticClass:"right",staticStyle:{cursor:"default","font-weight":"700"}},[t._v(t._s("You are a WhatsCoin Lite User !"))])]),s("p",[s("i",[t._v(t._s(t.$t("login.joined ")))]),s("span",{staticClass:"right",staticStyle:{cursor:"default","font-weight":"700"}},[t._v(t._s(t.formatTime(t.time,"MMdd, yyyy, hh:mm",!0)))])])]),t.userData.id?s("section",{staticStyle:{"margin-top":"0"}},[1==t.userData.register_type?s("p",[s("i",[t._v(t._s(t.$t("login.email")))]),s("span",{staticClass:"right",staticStyle:{cursor:"default"}},[t._v(t._s(t.mail))])]):t._e(),1==t.userData.register_type?s("p",[s("i",[t._v(t._s(t.$t("login.password")))]),s("span",{staticClass:"right reset",on:{click:t.resetPw}},[t._v(t._s(t.$t("login.Reset")))])]):t._e(),s("p",[s("i",[t._v(t._s(t.$t("login.wallet")))]),4==t.userData.register_type?s("span",{staticClass:"right",staticStyle:{color:"#dedede",cursor:"default"},attrs:{title:t.userData.wallet_address}},[t._v(t._s(t.userData.display_name))]):t._e(),1!=t.userData.register_type||t.userData.wallet_address?t._e():s("span",{staticClass:"right reset",on:{click:t.connectWallet}},[t._v(t._s(t.$t("login.connectWallet")))]),1==t.userData.register_type&&t.userData.wallet_address?s("span",{staticClass:"right reset",staticStyle:{color:"#6e7a8e",cursor:"default"},attrs:{title:t.userData.wallet_address}},[t._v(t._s(t.userData.display_name))]):t._e()]),1==t.userData.register_type&&t.userData.wallet_address?s("p",{staticStyle:{"margin-top":"-15px"}},[s("i"),s("span",{staticClass:"right disconnect",on:{click:function(s){t.disconnectModal=!0}}},[t._v(t._s(t.$t("login.disconnectWallet")))])]):t._e()]):t._e(),s("p",{staticStyle:{display:"block","text-align":"left",margin:"0 0 0 0px"}},[s("span",{staticStyle:{display:"inline"}},[t._v(t._s(t.$t("login.supportTips"))+" ")]),s("a",{staticStyle:{color:"rgba(22, 119, 254, 1)",margin:"0",display:"inline"},attrs:{href:"mailto:support@whatscoin.com",target:"_blank"}},[t._v(" support@whatscoin.com")])]),s("p",{staticClass:"sign-out",staticStyle:{display:"flex"}},[s("span",{staticClass:"logout-icon",staticStyle:{display:"inline-block"}}),s("span",{staticClass:"logout-btn",staticStyle:{display:"inline"},on:{click:function(s){return t.$user.confirmLogout(!0)}}},[t._v(t._s(t.$t("login.signOut")))])]),t._e(),t._e(),s("el-dialog",{staticClass:"reset-dialog",attrs:{visible:t.subModal,"close-on-click-modal":!1,center:"",width:t.isM?"80vw":"520px"},on:{close:t.close}},[s("template",{slot:"title"},[s("div",{staticClass:"reset-title"},[s("span",{staticClass:"logo"}),s("span",[t._v(t._s(t.$t("login.unsubscribeConfirmation")))])])]),""!=t.messageTip?s("section",{staticClass:"tip-container"},[s("div",{staticClass:"tip-content"},[s("span",[t._v(t._s(t.messageTip))])])]):t._e(),s("section",{staticClass:"reset-content"},[s("p",{staticClass:"center"},[t._v(" "+t._s(t.$t("login.messageTips"))+" ")])]),s("div",[s("div",{staticClass:"input-box flex"},[s("div",{staticClass:"input-box show-data right cancel",on:{click:t.unsubrequest}},[t._v(" "+t._s(t.$t("login.unsubscribe1"))+" ")]),s("div",{staticClass:"input-box show-data left yes",on:{click:t.close}},[t.subLoading?s("i",{staticClass:"whatcoin-loading"}):t._e(),s("i",[t._v(" "+t._s(t.$t("login.cancel")))])])])])],2),s("el-dialog",{staticClass:"reset-dialog",attrs:{visible:t.disconnectModal,"close-on-click-modal":!1,center:"",width:t.isM?"80vw":"520px"},on:{close:function(s){t.disconnectModal=!1}}},[s("template",{slot:"title"},[s("div",{staticClass:"reset-title"},[s("span",{staticClass:"logo"}),s("span",[t._v(t._s(t.$t("login.disconnectWallet")))])])]),s("section",{staticClass:"reset-content"},[s("p",{staticClass:"center"},[t._v(t._s(t.$t("login.sure")))])]),s("div",[s("div",{staticClass:"input-box flex"},[s("div",{staticClass:"input-box show-data right cancel",on:{click:t.userCancelWallet}},[t._v(" "+t._s(t.$t("login.disconnectWallet"))+" ")]),s("div",{staticClass:"input-box show-data left yes",on:{click:function(s){t.disconnectModal=!1}}},[t.subLoading?s("i",{staticClass:"whatcoin-loading"}):t._e(),s("i",[t._v(t._s(t.$t("login.cancel")))])])])])],2),s("el-dialog",{staticClass:"reset-dialog",attrs:{visible:t.delLoding,"close-on-click-modal":!1,center:"",width:t.isM?"80vw":"520px"},on:{close:t.close}},[s("template",{slot:"title"},[s("div",{staticClass:"reset-title"},[s("span",{staticClass:"logo"}),s("span",[t._v(t._s(t.$t("login.deleteConfirmation")))])])]),""!=t.messageTip?s("section",{staticClass:"tip-container"},[s("div",{staticClass:"tip-content"},[s("span",[t._v(t._s(t.messageTip))])])]):t._e(),s("section",{staticClass:"reset-content"},[s("p",{staticClass:"center"},[t._v(" "+t._s(t.$t("login.deleteConfirmationTips"))+" ")])]),s("div",[s("div",{staticClass:"input-box flex"},[s("div",{staticClass:"input-box show-data right cancel",on:{click:t.deleterequest}},[t._v(" "+t._s(t.$t("login.delete1"))+" ")]),s("div",{staticClass:"input-box show-data left yes",on:{click:t.close}},[t.subLoading?s("i",{staticClass:"whatcoin-loading"}):t._e(),s("i",[t._v(t._s(t.$t("login.cancel")))])])])])],2)],1)},a=[],l=e("b0e4"),n=e("acf5"),o={name:"AccountSetting",mixins:[n["a"]],data(){return{isSub:!1,time:"",mail:"",subModal:!1,delModal:!1,subLoading:!1,delLoding:!1,subMessage:!1,messageTip:"",userData:{},disconnectModal:!1}},watch:{},created(){localStorage.getItem("cloud_token")||location.href.includes("login")||(location.href=""+location.origin),localStorage.getItem("cloud_token")&&this.getUserInfo()},methods:{formatTime:l["i"],close(){this.subModal=!1,this.delLoding=!1,this.messageTip=""},subscrire(t){t?this.subrequest():this.subModal=!0},deleteUser(){this.delLoding=!0},resetPw(){let t=this.mail||"";t&&(localStorage.setItem("redirect_url",""+(location.origin+location.pathname)),this.$user.resetSendMailWithValue(t))},async getUserInfo(){localStorage.getItem("cloud_token");const{success:t,data:s,code:e,message:i}=await this.$api.userInfo.getUserSetting();"00000"==e?(localStorage.setItem("userinfo",JSON.stringify(s)),this.$store.commit("common/SET_displayName",s.display_name),this.$nextTick(()=>{this.userData=s,this.time=s.register_time,this.mail=s.email||"-",this.isSub=s.receive||!1})):this.$nextTick(()=>{this.messageTip=i})},async subrequest(){const{success:t,data:s,code:e,message:i}=await this.$api.userInfo.subscribeInfo({receive:1});"00000"==e&&(this.isSub=!0,this.subMessage=!0,setTimeout(()=>{this.subMessage=!1},3e3))},async unsubrequest(){const{success:t,data:s,code:e,message:i}=await this.$api.userInfo.subscribeInfo({receive:0});"00000"==e?(this.isSub=!1,this.subModal=!1):this.$nextTick(()=>{this.messageTip=i})},async deleterequest(){let t=this.mail||"";if(!t)return;this.delLoding=!0;const{success:s,data:e,code:i,message:a}=await this.$api.userInfo.deleteUser({type:1,account:t});if("00000"==i){this.subLoading=!1,this.delLoding=!1,localStorage.clear();let t=location.origin;location.href=t}},connectWallet(){this.metaMaskConnectWallet().then(t=>{let s=t;this.$api.userInfo.walletLink({address:s,sign_type:"connect_wallet"}).then(t=>{const{data:e,success:i}=t;i&&this.signMessage(e.sign_message,t=>{let e={sign:t,address:s};this.userAddWallet(e)},t=>{})})})},async userAddWallet(t){const{success:s,data:e,code:i,message:a}=await this.$api.userInfo.userAddWallet({sign:t.sign,address:t.address});this.loading=!1,"00000"==i?this.getUserInfo():this.$message.error(a)},async userCancelWallet(t){const{success:s,data:e,code:i,message:a}=await this.$api.userInfo.userCancelWallet({});if(this.loading=!1,"00000"!=i)return this.$message.error(a),void(this.disconnectModal=!1);this.getUserInfo(),this.disconnectModal=!1}}},c=o,r=(e("2b1a"),e("e607")),d=Object(r["a"])(c,i,a,!1,null,"55d2b172",null);s["default"]=d.exports},"2b1a":function(t,s,e){"use strict";e("db18")},db18:function(t,s,e){}}]);